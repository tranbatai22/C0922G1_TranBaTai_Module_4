<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
          crossorigin="anonymous">
</head>
<body>
<head th:replace="/view/layout :: header"></head>
<a th:href="@{/contract/create}">
    <button class="btn btn-primary btn-outline-secondary btn-sm">
        <span class="fa-solid fa-person-circle-plus text-light h5 my-auto me-1"></span>
        <span class="text-light">Thêm mới hợp đồng</span>
    </button>
</a>
<h2 th:text="${mess}"></h2>
<table class="table table-success table-striped">
    <tr>
        <td>#</td>
        <td>Deposit</td>
        <td>Start Date</td>
        <td>End Date</td>
        <td>Customer Name</td>
        <td>Employeee Name</td>
        <td>Facility Name</td>
        <th>Total cost</th>
        <td>Attach Facility</td>
    </tr>
    <tr th:each="contract, stt : ${contractList}">
        <td th:text="${stt.count}"></td>
        <td th:text="${contract.deposit}"></td>
        <td th:text="${contract.startDate}"></td>
        <td th:text="${contract.endDate}"></td>
        <td th:text="${contract.customer.name}"></td>
        <td th:text="${contract.employee.name}"></td>
        <td th:text="${contract.facility.name}"></td>
        <td>Total</td>
        <td>
            <button type="button" th:attr="onclick=|showAttachFacility('${dto.id}','${dto.customer_name}')|"
                    class="btn btn-primary" data-bs-toggle="modal"
                    data-bs-target="#newAttachFacilityModal">
            </button>
        </td>
    </tr>
</table>

<footer th:replace="/view/layout :: footer"></footer>
</body>

<!--modal thêm mới hợp đồng chi tiết-->
<!--<div class="modal fade" id="newAttachFacilityModal" tabindex="-1" aria-labelledby="exampleModalLabel"-->
<!--     aria-hidden="true">-->
<!--    <div class="modal-dialog">-->
<!--        <div class="modal-content">-->
<!--            <form class="form-horizontal" action="/contract/addContractDetail" th:object="${contractDetail}">-->
<!--                <div class="modal-header d-flex justify-content-center">-->
<!--                    <span>Add Attach Facility Into Contract </span>-->
<!--                    <input th:field="*{contract.id}" id="contractId"-->
<!--                           style="width: 20px;border: none;text-align: center"/>-->
<!--                    <input class="text-primary" id="customerName" style="width: 150px;border: none;text-align: center"/>-->
<!--                </div>-->

<!--                <div class="modal-body m-0 p-0">-->
<!--                    <div class="row form-group align-items-center m-2">-->
<!--                        <div class=" col-sm-4">-->
<!--                            <label class="control-label">Attach Facility:</label></div>-->
<!--                        <div class="col-sm-8">-->
<!--                            <select class="form-control" name="idAttachFacility" th:field="*{attachFacility.id}">-->
<!--                                <option disabled value="0">Chọn dịch vụ đi kèm</option>-->
<!--                                <option th:each="attachFacility : ${attachFacilityList}"-->
<!--                                        th:value="${attachFacility.id}" th:text="${attachFacility.name}"></option>-->

<!--                            </select>-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    <div class="row form-group align-items-center m-2">-->
<!--                        <div class=" col-sm-4">-->
<!--                            <label class="control-label">Quantity:</label></div>-->
<!--                        <div class="col-sm-8">-->
<!--                            <input required pattern="^[1-9]\d*$" title="Số lượng phải là số nguyên dương" type="number" min="1"-->
<!--                                   class="form-control" th:field="*{quantity}">-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    <div class="form-group">-->
<!--                        <div class="d-flex justify-content-center">-->
<!--                            <button type="button" class="btn btn-secondary m-1" data-bs-dismiss="modal">Cancel-->
<!--                            </button>-->
<!--                            <button type="submit" class="btn btn-primary m-1">Add-->
<!--                            </button>-->
<!--                        </div>-->
<!--                    </div>-->

<!--                </div>-->
<!--            </form>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
<!--<script>-->
<!--    function showAttachFacility(id, customerName) {-->
<!--        document.getElementById("contractId").value = id;-->
<!--        document.getElementById("customerName").value = customerName;-->
<!--    }-->
<!--</script>-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
</html>